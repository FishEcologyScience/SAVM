% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_input.R
\name{read_sav}
\alias{read_sav}
\title{Master function to read SAV data from different formats}
\usage{
read_sav(file_path, spacing = 500, layer = NULL, crs = 3857, export = NULL)
}
\arguments{
\item{file_path}{{\code{character}}\cr{} Path to the input file.}

\item{spacing}{{\code{numeric}}\cr{} Spacing for grid generation (if AOI is used).}

\item{layer}{{\code{character}}\cr{} Layer name for multi-layer spatial files (default: NULL).}

\item{crs}{{\code{numeric}}\cr{} Coordinate Reference System (CRS) of the input data. Default is 3857.}

\item{export}{{\code{character}}\cr{} Optional. Folder path to export outputs as .gpkg.}
}
\value{
A list with \code{points} (sf object) and \code{polygon} (sf object).
}
\description{
Master function to read SAV data from different formats
}
\examples{
# Example usage with CSV file
library(sf)
temp_csv <- tempfile(fileext = ".csv")
write.csv(data.frame(
    longitude = c(-82.5, -83.0, -84.8),
    latitude = c(42.5, 42.8, 42.6),
    depth_m = c(5, 10, 7),
    mean_fetch_km = c(2.5, 3.0, 2.8),
    turbidity = c(1.2, 2.3, 1.8),
    substrate_limits = c(TRUE, FALSE, TRUE)
), temp_csv, row.names = FALSE)

tmp <- read_sav(temp_csv, crs = 3857)
head(tmp$points)
plot(st_geometry(tmp$polygon))
plot(st_geometry(tmp$points), add = TRUE)

# Example usage with spatial polygon file (AOI)
temp_poly <- st_sf(
    geometry = st_sfc(st_polygon(list(
        rbind(
            c(-82.5, 42.5), c(-82.5, 42.8), c(-82.0, 42.8), c(-82.0, 42.5), c(-82.5, 42.5)
        )
    )), crs = 4326)
)
temp_file <- tempfile(fileext = ".gpkg")
st_write(temp_poly, temp_file, quiet = TRUE)

tmp <- read_sav(temp_file, spacing = 500, crs = 3857)
head(tmp$points)
plot(st_geometry(tmp$polygon))
plot(st_geometry(tmp$points), add = TRUE)

}
