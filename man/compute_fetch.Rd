% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_fetch.R
\name{compute_fetch}
\alias{compute_fetch}
\title{Compute fetch and wind-weighted fetch}
\usage{
compute_fetch(
  points,
  polygon,
  n_quad_seg,
  max_dist = 15000,
  wind_weights = NULL,
  crs = NULL
)
}
\arguments{
\item{points}{{\code{sf}}\cr{} An \code{sf} point object representing the locations for which fetch will be calculated.}

\item{polygon}{{\code{sf}}\cr{} An \code{sf} polygon object defining land boundaries used to compute fetch distances.}

\item{n_quad_seg}{{\code{integer}}\cr{} Number of segments per quadrant for fetch calculation. Ignored if \code{wind_weights}
is provided.}

\item{max_dist}{{\code{numeric}}\cr{} Maximum fetch distance in meters. Fetch beyond this distance is capped.}

\item{wind_weights}{{\code{data.frame}}\cr{} A data frame specifying directional
weights for wind exposure. Must contain two columns: \code{direction} (numeric,
in degrees) and \code{weight} (numeric). Currently this applies to all points.}

\item{crs}{{\code{object}}\cr{} Coordinate reference system (CRS) passed to
\code{\link[sf:st_crs]{sf::st_crs()}}, used to transform \code{points} and \code{polygon}.}
}
\value{
A list of two elements:
\itemize{
\item \code{mean_fetch}: data frame with 3 columns:
\itemize{
\item \code{id_point}: point identifier
\item `mean_fetch``: mean fetch
\item `mean_weighted_fetch``: mean fetch
}
\item \code{sf_fetch_lines}: a \code{sf} object containing all fetch lines.
}
}
\description{
Compute fetch and wind-weighted fetch
}
\examples{
\donttest{
le_bound <- system.file("example", "lake_erie.gpkg", package = "SAVM") |>
     sf::st_read() 
le_pt <- system.file("example", "le_points.geojson", package = "SAVM") |>
     sf::st_read(quiet = TRUE)
res <- compute_fetch(le_pt, le_bound, 10, max_dist = 15000, crs = 3857)
# resultat 
res$mean_fetch
# visualizing fetch lines
plot(le_bound |> sf::st_transform(crs = 3857) |> sf::st_geometry())
plot(res$sf_fetch_lines |> sf::st_geometry(), add = TRUE, col = 2, lwd = 0.5)
}
}
\references{
\itemize{
\item For an implementation leveraging st_buffer(), see \url{https://github.com/blasee/windfetch}.
}
}
